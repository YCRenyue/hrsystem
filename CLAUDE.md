# CLAUDE.md

æœ¬æ–‡ä»¶ä¸º Claude Code (claude.ai/code) åœ¨æœ¬ä»“åº“ä¸­å·¥ä½œæ—¶æä¾›å…¨é¢çš„æŒ‡å¯¼ã€‚

## âš ï¸ å¼€å‘å‰å¿…è¯»è§„åˆ™

**é‡è¦æç¤º**ï¼šå¼€å‘ä»»ä½•åŠŸèƒ½ä¹‹å‰ï¼Œå¿…é¡»éµå¾ªä»¥ä¸‹æµç¨‹ï¼š

1. **å¼€å‘å‰å‡†å¤‡**

   - é¦–å…ˆé˜…è¯» `requirement.md` äº†è§£é¡¹ç›®å½“å‰è¿›åº¦å’Œå¾…åŠäº‹é¡¹
   - ç¡®è®¤ä½ è¦å¼€å‘çš„åŠŸèƒ½åœ¨éœ€æ±‚æ–‡æ¡£ä¸­çš„ä½ç½®å’ŒçŠ¶æ€
   - ç†è§£ç›¸å…³çš„ä¾èµ–å…³ç³»å’Œå‰ç½®æ¡ä»¶
2. **å¼€å‘è¿‡ç¨‹ä¸­**

   - **ä¿æŒä»£ç åº“æ•´æ´**ï¼šä¸è¦åˆ›å»ºä¸å¿…è¦çš„æ–‡ä»¶
3. **å¼€å‘å®Œæˆå**

   - **å¿…é¡»**åœ¨ `requirement.md` ä¸­æ›´æ–°è¿›åº¦
   - æ ‡è®°å·²å®Œæˆçš„åŠŸèƒ½ç‚¹ï¼ˆä½¿ç”¨ `[x]` æ ‡è®°å¤é€‰æ¡†ï¼‰
   - æ·»åŠ å®Œæˆæ—¶é—´å’Œç®€è¦è¯´æ˜
   - å¦‚å‘ç°æ–°çš„é—®é¢˜æˆ–éœ€æ±‚ï¼ŒåŠæ—¶è¡¥å……åˆ°æ–‡æ¡£ä¸­

## ğŸ“ æ–‡ä»¶åˆ›å»ºå’Œå‘½åè§„åˆ™

**é‡è¦**ï¼šä¿æŒä»£ç åº“çš„æ•´æ´å’Œä¸“ä¸šï¼Œéµå¾ªä»¥ä¸‹æ–‡ä»¶åˆ›å»ºåŸåˆ™ï¼š

### æ–‡ä»¶å‘½åè§„èŒƒ

**æ‰€æœ‰æ–‡ä»¶åå¿…é¡»ä½¿ç”¨è‹±æ–‡ï¼Œä¸å…è®¸ä½¿ç”¨ä¸­æ–‡æ–‡ä»¶å**

- âœ… æ­£ç¡®ï¼š`DEPLOYMENT.md`, `config.json`, `user-service.js`
- âŒ é”™è¯¯ï¼š`éƒ¨ç½²è¯´æ˜.md`, `é…ç½®.json`, `ç”¨æˆ·æœåŠ¡.js`

**æ–‡æ¡£å†…å®¹å¯ä»¥ä½¿ç”¨ä¸­æ–‡**

- æ–‡ä»¶åä½¿ç”¨è‹±æ–‡ï¼ˆå¦‚ `README.md`, `DEPLOYMENT.md`ï¼‰
- æ–‡ä»¶å†…å®¹å¯ä»¥æ˜¯ä¸­æ–‡ï¼ˆå¦‚ä¸­æ–‡çš„éƒ¨ç½²è¯´æ˜ã€ä½¿ç”¨æŒ‡å—ç­‰ï¼‰

### ç¦æ­¢åˆ›å»ºçš„æ–‡ä»¶ç±»å‹

1. **æµ‹è¯•ç”¨çš„ä¸´æ—¶æ–‡ä»¶**

   - ä¸è¦åˆ›å»º `test.js`, `test.ts`, `temp.js` ç­‰ä¸´æ—¶æµ‹è¯•æ–‡ä»¶
   - ä¸è¦åˆ›å»º `demo.html`, `example.js` ç­‰æ¼”ç¤ºæ–‡ä»¶
   - æµ‹è¯•ä»£ç å¿…é¡»æ”¾åœ¨è§„èŒƒçš„æµ‹è¯•ç›®å½•ä¸­ï¼ˆ`__tests__/` æˆ– `*.test.js`ï¼‰
2. **è¯´æ˜æ€§æ–‡æ¡£ï¼ˆé™¤éæ˜ç¡®è¦æ±‚ï¼‰**

   - ä¸è¦ä¸»åŠ¨åˆ›å»º `SETUP.md`, `GUIDE.md`, `HOWTO.md` ç­‰è¯´æ˜æ–‡æ¡£
   - ä¸è¦åˆ›å»º `TODO.md`, `NOTES.md` ç­‰ç¬”è®°æ–‡ä»¶
   - é…ç½®è¯´æ˜åº”è¯¥å†™åœ¨å·²æœ‰çš„ `README.md` æˆ– `CLAUDE.md` ä¸­
   - **å”¯ä¸€ä¾‹å¤–**ï¼šç”¨æˆ·æ˜ç¡®è¦æ±‚åˆ›å»ºæ–‡æ¡£æ—¶æ‰åˆ›å»º
3. **ç¤ºä¾‹ä»£ç æ–‡ä»¶**

   - ä¸è¦åˆ›å»º `example-*.js`, `sample-*.ts` ç­‰ç¤ºä¾‹æ–‡ä»¶
   - ä»£ç ç¤ºä¾‹åº”è¯¥æ”¾åœ¨æ³¨é‡Šæˆ–æ–‡æ¡£ä¸­ï¼Œä¸è¦åˆ›å»ºå•ç‹¬æ–‡ä»¶
4. **å¤‡ä»½å’Œä¸´æ—¶æ–‡ä»¶**

   - ä¸è¦åˆ›å»º `*.backup`, `*.old`, `*.tmp` ç­‰å¤‡ä»½æ–‡ä»¶
   - ä¸è¦åˆ›å»º `draft-*.js` ç­‰è‰ç¨¿æ–‡ä»¶

### å…è®¸åˆ›å»ºçš„æ–‡ä»¶

1. **åŠŸèƒ½ä»£ç æ–‡ä»¶**

   - æ–°åŠŸèƒ½çš„å®ç°æ–‡ä»¶ï¼ˆcontrollers, services, modelsç­‰ï¼‰
   - å¿…é¡»ç¬¦åˆé¡¹ç›®ç›®å½•ç»“æ„è§„èŒƒ
2. **è§„èŒƒçš„æµ‹è¯•æ–‡ä»¶**

   - æ”¾åœ¨ `__tests__/` ç›®å½•ä¸‹çš„æµ‹è¯•æ–‡ä»¶
   - æˆ–ä½¿ç”¨ `*.test.js`, `*.spec.js` å‘½åçš„æµ‹è¯•æ–‡ä»¶
3. **å¿…è¦çš„é…ç½®æ–‡ä»¶**

   - ä»…åœ¨éœ€è¦æ—¶åˆ›å»ºæ–°çš„é…ç½®æ–‡ä»¶
   - ä¼˜å…ˆä¿®æ”¹å·²æœ‰é…ç½®è€Œä¸æ˜¯åˆ›å»ºæ–°é…ç½®
4. **æ•°æ®åº“è¿ç§»æ–‡ä»¶**

   - æŒ‰ç…§é¡¹ç›®è§„èŒƒåˆ›å»ºçš„è¿ç§»æ–‡ä»¶
   - å¿…é¡»æ”¾åœ¨ `db/migrations/` ç›®å½•

### æ–‡ä»¶åˆ›å»ºå‰çš„æ£€æŸ¥æ¸…å•

åœ¨åˆ›å»ºä»»ä½•æ–°æ–‡ä»¶ä¹‹å‰ï¼Œé—®è‡ªå·±ï¼š

1. **æ˜¯å¦å¿…éœ€ï¼Ÿ** - è¿™ä¸ªæ–‡ä»¶æ˜¯å®ç°åŠŸèƒ½æ‰€å¿…éœ€çš„å—ï¼Ÿ
2. **æ˜¯å¦å·²å­˜åœ¨ï¼Ÿ** - æ˜¯å¦å¯ä»¥ä¿®æ”¹ç°æœ‰æ–‡ä»¶è€Œä¸æ˜¯åˆ›å»ºæ–°æ–‡ä»¶ï¼Ÿ
3. **æ˜¯å¦è§„èŒƒï¼Ÿ** - æ–‡ä»¶ä½ç½®å’Œå‘½åæ˜¯å¦ç¬¦åˆé¡¹ç›®è§„èŒƒï¼Ÿ
4. **æ˜¯å¦æŒä¹…ï¼Ÿ** - è¿™ä¸ªæ–‡ä»¶æ˜¯é•¿æœŸéœ€è¦çš„è¿˜æ˜¯ä¸´æ—¶çš„ï¼Ÿï¼ˆç¦æ­¢ä¸´æ—¶æ–‡ä»¶ï¼‰

### æ­£ç¡®çš„åšæ³•

**é”™è¯¯ç¤ºä¾‹**ï¼š

```bash
# ä¸è¦è¿™æ ·åš
åˆ›å»º backend/test-api.js              # ä¸´æ—¶æµ‹è¯•æ–‡ä»¶
åˆ›å»º DINGTALK_SETUP.md               # æœªç»è¯·æ±‚çš„æ–‡æ¡£
åˆ›å»º frontend/example-component.tsx  # ç¤ºä¾‹æ–‡ä»¶
åˆ›å»º backend/temp-fix.js             # ä¸´æ—¶ä¿®å¤æ–‡ä»¶
```

**æ­£ç¡®ç¤ºä¾‹**ï¼š

```bash
# åº”è¯¥è¿™æ ·åš
ä¿®æ”¹ README.md                       # åœ¨ç°æœ‰æ–‡æ¡£ä¸­æ·»åŠ é…ç½®è¯´æ˜
åˆ›å»º backend/src/controllers/authController.js  # åŠŸèƒ½ä»£ç 
åˆ›å»º backend/src/__tests__/auth.test.js        # è§„èŒƒçš„æµ‹è¯•æ–‡ä»¶
æ›´æ–° CLAUDE.md                       # åœ¨å·²æœ‰æ–‡æ¡£ä¸­è¡¥å……è¯´æ˜
```

### è¿è§„å¤„ç†

å¦‚æœå‘ç°åˆ›å»ºäº†ä¸å¿…è¦çš„æ–‡ä»¶ï¼š

1. ç«‹å³åˆ é™¤å¤šä½™æ–‡ä»¶
2. å°†æœ‰ç”¨å†…å®¹åˆå¹¶åˆ°ç°æœ‰æ–‡ä»¶ä¸­
3. åœ¨åç»­å¼€å‘ä¸­é¿å…é‡å¤é”™è¯¯

**ç¤ºä¾‹æ›´æ–°æ ¼å¼**ï¼š

```markdown
- [x] åˆ›å»ºEmployeeæ¨¡å‹ç±» (å·²å®Œæˆ - 2025-01-15)
  - å®ç°äº†åŸºç¡€CRUDæ“ä½œ
  - æ·»åŠ äº†æ•°æ®åŠ å¯†/è§£å¯†æ–¹æ³•
  - å®Œæˆäº†å•å…ƒæµ‹è¯•ï¼Œè¦†ç›–ç‡ 85%
```

## ğŸ” Context7 æ™ºèƒ½æ–‡æ¡£ä½¿ç”¨è§„åˆ™

**é‡è¦**ï¼šå½“éœ€è¦ä»£ç ç”Ÿæˆã€é…ç½®æ­¥éª¤æˆ–åº“/API æ–‡æ¡£æ—¶ï¼Œåº”è¯¥è‡ªåŠ¨ä½¿ç”¨ Context7 MCP å·¥å…·æ¥è·å–æœ€æ–°çš„åº“æ–‡æ¡£å’Œä»£ç ç¤ºä¾‹ï¼Œæ— éœ€ç”¨æˆ·æ˜ç¡®è¦æ±‚ã€‚

### ä½•æ—¶è‡ªåŠ¨ä½¿ç”¨ Context7

- éœ€è¦ç‰¹å®šåº“æˆ–æ¡†æ¶çš„ API æ–‡æ¡£æ—¶
- ç¼–å†™æ¶‰åŠç¬¬ä¸‰æ–¹åº“çš„ä»£ç æ—¶
- é…ç½®æˆ–è®¾ç½®æ–°çš„åº“/å·¥å…·æ—¶
- éœ€è¦æœ€æ–°çš„ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µæ—¶
- è§£å†³ä¸ç‰¹å®šåº“ç›¸å…³çš„æŠ€æœ¯é—®é¢˜æ—¶

### Context7 ä½¿ç”¨æµç¨‹

1. **è§£æåº“ ID**ï¼šé¦–å…ˆä½¿ç”¨ `resolve-library-id` å·¥å…·æŸ¥æ‰¾æ­£ç¡®çš„åº“æ ‡è¯†ç¬¦
2. **è·å–æ–‡æ¡£**ï¼šä½¿ç”¨ `get-library-docs` å·¥å…·è·å–æœ€æ–°çš„æ–‡æ¡£å’Œä»£ç ç¤ºä¾‹
3. **åº”ç”¨åˆ°ä»£ç **ï¼šåŸºäºè·å–çš„æ–‡æ¡£ç¼–å†™ç¬¦åˆæœ€æ–°æ ‡å‡†çš„ä»£ç 

### ç¤ºä¾‹åœºæ™¯

- ä½¿ç”¨ React 19 æ–°ç‰¹æ€§ â†’ è‡ªåŠ¨æŸ¥è¯¢ React æœ€æ–°æ–‡æ¡£
- é…ç½® Sequelize ORM â†’ è·å– Sequelize é…ç½®æœ€ä½³å®è·µ
- ä½¿ç”¨ Ant Design ç»„ä»¶ â†’ æŸ¥è¯¢ç»„ä»¶ API å’Œç¤ºä¾‹
- é…ç½® Jest æµ‹è¯• â†’ è·å–æœ€æ–°çš„æµ‹è¯•é…ç½®æŒ‡å—

**æ³¨æ„**ï¼šContext7 å¸®åŠ©ç¡®ä¿ä»£ç å§‹ç»ˆä½¿ç”¨æœ€æ–°çš„ API å’Œæœ€ä½³å®è·µï¼Œé¿å…è¿‡æ—¶çš„å®ç°æ–¹å¼ã€‚

## è¡¨æƒ…ç¬¦å·ä½¿ç”¨è§„åˆ™

**é‡è¦**ï¼šä¸ºä¿è¯ä»£ç å’Œæ–‡æ¡£çš„å¯è¯»æ€§å’Œå…¼å®¹æ€§ï¼Œè¯·éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š

### ç¦æ­¢ä½¿ç”¨è¡¨æƒ…ç¬¦å·çš„æ–‡ä»¶

**æ‰€æœ‰ä»£ç æ–‡ä»¶å’Œæ–‡æ¡£ä¸­ç¦æ­¢ä½¿ç”¨è¡¨æƒ…ç¬¦å·**ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- æ‰€æœ‰æºä»£ç æ–‡ä»¶ï¼ˆ.js, .ts, .jsx, .tsx, .py, .java ç­‰ï¼‰
- é…ç½®æ–‡ä»¶ï¼ˆ.json, .yaml, .yml, .env ç­‰ï¼‰
- æ–‡æ¡£æ–‡ä»¶ï¼ˆ.md, .txt ç­‰ï¼‰ï¼Œ**é™¤äº† requirement.md**
- æ•°æ®åº“è¿ç§»æ–‡ä»¶
- æµ‹è¯•æ–‡ä»¶
- README æ–‡ä»¶

### å”¯ä¸€ä¾‹å¤–ï¼šrequirement.md

- **ä»… requirement.md æ–‡ä»¶å…è®¸ä½¿ç”¨è¡¨æƒ…ç¬¦å·ç”¨äºä»»åŠ¡åˆ—è¡¨æ ‡è®°**
- æ¨èçš„è¡¨æƒ…ç¬¦å·ä½¿ç”¨ï¼š

  - [X] æˆ– DONE - å·²å®Œæˆçš„ä»»åŠ¡
  - [ ] æˆ– TODO - å¾…å¼€å§‹çš„ä»»åŠ¡

  - WIP - è¿›è¡Œä¸­çš„ä»»åŠ¡

### æ›¿ä»£æ–¹æ¡ˆ

åœ¨å…¶ä»–æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨æ–‡æœ¬æ ‡è®°æ›¿ä»£è¡¨æƒ…ç¬¦å·ï¼š

- ä½¿ç”¨ [DONE], [TODO], [WIP], [BLOCKED] ç­‰æ–‡æœ¬æ ‡è®°
- ä½¿ç”¨ ASCII å­—ç¬¦ï¼š*, -, +, >, ! ç­‰
- ä½¿ç”¨ä»£ç æ³¨é‡Šï¼š// FIXME:, // TODO:, // NOTE: ç­‰

### åŸå› è¯´æ˜

1. **ç¼–ç å…¼å®¹æ€§**ï¼šè¡¨æƒ…ç¬¦å·å¯èƒ½å¯¼è‡´æ–‡ä»¶ç¼–ç é—®é¢˜ï¼ˆUTF-8 vs ASCIIï¼‰
2. **ç‰ˆæœ¬æ§åˆ¶**ï¼šè¡¨æƒ…ç¬¦å·åœ¨ diff ä¸­ä¸æ˜“è¯†åˆ«ï¼Œå½±å“ä»£ç å®¡æŸ¥
3. **å¯è¯»æ€§**ï¼šåœ¨æŸäº›ç¼–è¾‘å™¨æˆ–ç»ˆç«¯ä¸­æ˜¾ç¤ºä¸æ­£ç¡®
4. **å›½é™…åŒ–**ï¼šè¡¨æƒ…ç¬¦å·åœ¨ä¸åŒç³»ç»Ÿå’Œåœ°åŒºå¯èƒ½æ˜¾ç¤ºä¸åŒ
5. **ä¸“ä¸šæ€§**ï¼šä»£ç æ–‡ä»¶åº”ä¿æŒä¸“ä¸šå’Œç®€æ´

## æ ¸å¿ƒå¼€å‘ç†å¿µ

### KISS (Keep It Simple, Stupid) - ä¿æŒç®€å•

ç®€æ´åº”è¯¥æ˜¯è®¾è®¡çš„å…³é”®ç›®æ ‡ã€‚åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©ç›´æ¥çš„è§£å†³æ–¹æ¡ˆè€Œä¸æ˜¯å¤æ‚çš„æ–¹æ¡ˆã€‚ç®€å•çš„è§£å†³æ–¹æ¡ˆæ›´å®¹æ˜“ç†è§£ã€ç»´æŠ¤å’Œè°ƒè¯•ã€‚

### YAGNI (You Aren't Gonna Need It) - ä½ ä¸ä¼šéœ€è¦å®ƒ

é¿å…åŸºäºæ¨æµ‹æ„å»ºåŠŸèƒ½ã€‚åªæœ‰åœ¨éœ€è¦æ—¶æ‰å®ç°åŠŸèƒ½ï¼Œè€Œä¸æ˜¯åœ¨ä½ é¢„æœŸå¯èƒ½æœ‰ç”¨çš„æ—¶å€™ã€‚

### è®¾è®¡åŸåˆ™

- **ä¾èµ–åè½¬**ï¼šé«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–ä½å±‚æ¨¡å—ã€‚ä¸¤è€…éƒ½åº”ä¾èµ–æŠ½è±¡ã€‚
- **å¼€é—­åŸåˆ™**ï¼šè½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚
- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªå‡½æ•°ã€ç±»å’Œæ¨¡å—åº”è¯¥æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç›®çš„ã€‚
- **å¿«é€Ÿå¤±è´¥**ï¼šå°½æ—©æ£€æŸ¥æ½œåœ¨é”™è¯¯ï¼Œå¹¶åœ¨å‡ºç°é—®é¢˜æ—¶ç«‹å³æŠ›å‡ºå¼‚å¸¸ã€‚

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä¸é’‰é’‰æ·±åº¦é›†æˆçš„ä¼ä¸š HR ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰å‘˜å·¥å…¥èŒè‡ªåŠ¨åŒ–ã€æ™ºèƒ½é—®ç­”å’Œå…¨é¢æŠ¥å‘ŠåŠŸèƒ½ã€‚ç³»ç»Ÿä½¿ç”¨å…¨æ ˆ JavaScript æ¶æ„ï¼Œå‰ç«¯ä½¿ç”¨ Reactï¼Œåç«¯ä½¿ç”¨ Node.js/Expressã€‚

## æŠ€æœ¯æ ˆ

**å‰ç«¯ï¼š**

- React 19 with TypeScript
- Ant Design 5.x UI ç»„ä»¶åº“
- React Router å¯¼èˆª
- Axios ç”¨äº API è°ƒç”¨

**åç«¯ï¼š**

- Node.js with Express 5.x
- Sequelize ORM with MySQL 8.0
- Redis ç¼“å­˜
- JWT èº«ä»½éªŒè¯

**åŸºç¡€è®¾æ–½ï¼š**

- Docker + Docker Compose å®¹å™¨åŒ–
- MySQL 8.0 ä¸»æ•°æ®åº“
- Redis ä¼šè¯ç®¡ç†å’Œç¼“å­˜
- Nginx åå‘ä»£ç†

## ğŸ§± ä»£ç ç»“æ„ä¸æ¨¡å—åŒ–

### æ–‡ä»¶å’Œå‡½æ•°é™åˆ¶

- **æ°¸è¿œä¸è¦åˆ›å»ºè¶…è¿‡ 500 è¡Œä»£ç çš„æ–‡ä»¶**ã€‚å¦‚æœæ¥è¿‘æ­¤é™åˆ¶ï¼Œè¯·é€šè¿‡æ‹†åˆ†æˆæ¨¡å—è¿›è¡Œé‡æ„ã€‚
- **å‡½æ•°åº”å°äº 50 è¡Œ**ï¼Œå…·æœ‰å•ä¸€ã€æ˜ç¡®çš„èŒè´£ã€‚
- **ç±»åº”å°äº 100 è¡Œ**ï¼Œè¡¨ç¤ºå•ä¸ªæ¦‚å¿µæˆ–å®ä½“ã€‚
- **å°†ä»£ç ç»„ç»‡æˆæ¸…æ™°åˆ†ç¦»çš„æ¨¡å—**ï¼ŒæŒ‰åŠŸèƒ½æˆ–èŒè´£åˆ†ç»„ã€‚
- **è¡Œé•¿åº¦æœ€å¤§ 100 å­—ç¬¦**ï¼ˆç”± ESLint/Prettier å¼ºåˆ¶æ‰§è¡Œï¼‰ã€‚

### é¡¹ç›®ç»“æ„

```
hrsystem/
â”œâ”€â”€ frontend/          # React TypeScript åº”ç”¨
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/      # å¯é‡ç”¨ UI ç»„ä»¶
â”‚       â”œâ”€â”€ pages/          # é¡µé¢çº§ç»„ä»¶
â”‚       â”œâ”€â”€ services/       # API å®¢æˆ·ç«¯æœåŠ¡
â”‚       â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ React hooks
â”‚       â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ types/          # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ __tests__/      # æµ‹è¯•æ–‡ä»¶
â”‚
â”œâ”€â”€ backend/           # Node.js Express API
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ app.js           # ä¸»åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ models/          # Sequelize æ¨¡å‹
â”‚       â”œâ”€â”€ repositories/    # æ•°æ®è®¿é—®å±‚
â”‚       â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘å±‚
â”‚       â”œâ”€â”€ routes/          # API è·¯ç”±å®šä¹‰
â”‚       â”œâ”€â”€ controllers/     # è¯·æ±‚å¤„ç†å™¨
â”‚       â”œâ”€â”€ middleware/      # è‡ªå®šä¹‰ä¸­é—´ä»¶
â”‚       â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ db/             # æ•°æ®åº“è¿ç§»å’Œç§å­
â”‚       â””â”€â”€ __tests__/      # æµ‹è¯•æ–‡ä»¶
â”‚
â”œâ”€â”€ database/          # SQL æ¨¡å¼å’Œåˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ docker/            # Docker é…ç½®
â”œâ”€â”€ docs/             # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ scripts/          # å®ç”¨è„šæœ¬
```

## å¸¸ç”¨å¼€å‘å‘½ä»¤

### å®‰è£…å’Œè®¾ç½®

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹ï¼ˆæ ¹ç›®å½•ã€å‰ç«¯ã€åç«¯ï¼‰
npm run install:all

# è®¾ç½®ç¯å¢ƒå˜é‡
npm run setup

# åˆå§‹åŒ–æ•°æ®åº“
npm run db:migrate
npm run db:seed
```

### å¼€å‘

```bash
# åœ¨å¼€å‘æ¨¡å¼ä¸‹åŒæ—¶è¿è¡Œå‰ç«¯å’Œåç«¯
npm run dev

# ä»…è¿è¡Œåç«¯ (http://localhost:3001)
npm run dev:backend

# ä»…è¿è¡Œå‰ç«¯ (http://localhost:3000)
npm run dev:frontend
```

### æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆå‰ç«¯ + åç«¯ï¼‰
npm test

# ä»…è¿è¡Œåç«¯æµ‹è¯•
npm run test:backend

# ä»…è¿è¡Œå‰ç«¯æµ‹è¯•
npm run test:frontend
```

### æ•°æ®åº“æ“ä½œ

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run db:migrate

# æ’­ç§ç¤ºä¾‹æ•°æ®
npm run db:seed
```

### Docker æ“ä½œ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
npm run docker:up

# åœæ­¢æ‰€æœ‰æœåŠ¡
npm run docker:down

# æ„å»º Docker é•œåƒ
npm run docker:build

# æŸ¥çœ‹æ—¥å¿—
npm run docker:logs
```

### ä»£ç è´¨é‡

```bash
# åœ¨å‰ç«¯å’Œåç«¯è¿è¡Œ linting
npm run lint

# è¿è¡Œåç«¯ linting
npm run lint:backend

# è¿è¡Œå‰ç«¯ linting
npm run lint:frontend

# æ„å»ºç”Ÿäº§å‰ç«¯
npm run build
```

## ğŸ“‹ é£æ ¼ä¸çº¦å®š

### JavaScript/TypeScript é£æ ¼æŒ‡å—

- **éµå¾ª Airbnb JavaScript é£æ ¼æŒ‡å—**ï¼Œå…·ä½“é€‰æ‹©å¦‚ä¸‹ï¼š
  - è¡Œé•¿åº¦ï¼š100 å­—ç¬¦ï¼ˆç”± ESLint å¼ºåˆ¶æ‰§è¡Œï¼‰
  - JavaScript ä¸­å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·
  - TypeScript ä¸­å­—ç¬¦ä¸²ä½¿ç”¨åŒå¼•å·
  - åœ¨å¤šè¡Œç»“æ„ä¸­ä½¿ç”¨å°¾éšé€—å·
  - 2 ä¸ªç©ºæ ¼ç¼©è¿›
- **å§‹ç»ˆå¯¹æ–°çš„å‰ç«¯ä»£ç ä½¿ç”¨ TypeScript**
- **å¯¹åç«¯ JavaScript å‡½æ•°ä½¿ç”¨ JSDoc æ³¨é‡Š**
- **å¯¹å‰ç«¯ TypeScript å‡½æ•°ä½¿ç”¨ TSDoc æ³¨é‡Š**

### å‘½åçº¦å®š

- **å˜é‡å’Œå‡½æ•°**ï¼š`camelCase`
- **ç±»å’Œ React ç»„ä»¶**ï¼š`PascalCase`
- **å¸¸é‡**ï¼š`UPPER_SNAKE_CASE`
- **ç§æœ‰æ–¹æ³•**ï¼š`_leadingUnderscore`ï¼ˆä»…çº¦å®šï¼‰
- **æ–‡ä»¶å**ï¼š
  - React ç»„ä»¶ï¼š`PascalCase.tsx`
  - å·¥å…·/æœåŠ¡ï¼š`camelCase.js` æˆ– `camelCase.ts`
  - æµ‹è¯•ï¼š`filename.test.js` æˆ– `filename.test.ts`

### JSDoc/TSDoc æ ‡å‡†

å¯¹ JavaScript åç«¯ä»£ç ä½¿ç”¨ JSDocï¼š

```javascript
/**
 * è®¡ç®—äº§å“çš„æŠ˜æ‰£ä»·æ ¼
 *
 * @param {number} price - äº§å“åŸä»·
 * @param {number} discountPercent - æŠ˜æ‰£ç™¾åˆ†æ¯”ï¼ˆ0-100ï¼‰
 * @param {number} [minAmount=0.01] - å…è®¸çš„æœ€ä½æœ€ç»ˆä»·æ ¼
 * @returns {number} åº”ç”¨æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼
 * @throws {Error} å¦‚æœ discount_percent ä¸åœ¨ 0 åˆ° 100 ä¹‹é—´
 *
 * @example
 * calculateDiscount(100, 20) // è¿”å› 80
 */
function calculateDiscount(price, discountPercent, minAmount = 0.01) {
  if (discountPercent < 0 || discountPercent > 100) {
    throw new Error('Discount percent must be between 0 and 100');
  }
  const finalPrice = price * (1 - discountPercent / 100);
  if (finalPrice < minAmount) {
    throw new Error(`Final price cannot be below ${minAmount}`);
  }
  return finalPrice;
}
```

å¯¹ç±»å‹å®‰å…¨ä½¿ç”¨ TypeScriptï¼š

```typescript
/**
 * è®¡ç®—äº§å“çš„æŠ˜æ‰£ä»·æ ¼
 */
function calculateDiscount(
  price: number,
  discountPercent: number,
  minAmount: number = 0.01
): number {
  if (discountPercent < 0 || discountPercent > 100) {
    throw new Error('Discount percent must be between 0 and 100');
  }
  const finalPrice = price * (1 - discountPercent / 100);
  if (finalPrice < minAmount) {
    throw new Error(`Final price cannot be below ${minAmount}`);
  }
  return finalPrice;
}
```

## æ¶æ„æ¨¡å¼

### æ•°æ®åŠ å¯†ç­–ç•¥

ç³»ç»Ÿå¯¹æ•æ„Ÿå‘˜å·¥æ•°æ®ï¼ˆèº«ä»½è¯å·ã€ç”µè¯å·ç ã€é“¶è¡Œè´¦æˆ·ï¼‰å®æ–½ **AES-256 åŠ å¯†**ã€‚åŠ å¯†å±‚ä½äº `backend/src/utils/encryption.js`ï¼š

- **åŠ å¯†å­˜å‚¨**ï¼šæ•æ„Ÿå­—æ®µåœ¨æ•°æ®åº“ä¸­ä»¥ `_encrypted` åç¼€åŠ å¯†å­˜å‚¨
- **åŸºäºå“ˆå¸Œçš„æœç´¢**ï¼šå¯æœç´¢çš„åŠ å¯†å­—æ®µè¿˜å­˜å‚¨å¸¦æœ‰ `_hash` åç¼€çš„å“ˆå¸Œç”¨äºæŸ¥æ‰¾
- **æ•°æ®è„±æ•**ï¼šå‘æ²¡æœ‰é€‚å½“æƒé™çš„ç”¨æˆ·æ˜¾ç¤ºæ—¶ï¼Œä¸ªäººæ•°æ®ä¼šè¢«è„±æ•ï¼ˆä¾‹å¦‚ï¼Œç”µè¯å·ç æ˜¾ç¤ºä¸º `138****8888`ï¼‰
- **åŸºäºæƒé™çš„è§£å¯†**ï¼šæ•°æ®ä»…å¯¹å…·æœ‰é€‚å½“è§’è‰²æƒé™çš„ç”¨æˆ·å®Œå…¨è§£å¯†

### ä¸‰çº§æƒé™ç³»ç»Ÿ

1. **è¶…çº§ç®¡ç†å‘˜**ï¼šå®Œå…¨ç³»ç»Ÿè®¿é—®ã€ç”¨æˆ·ç®¡ç†ã€æƒé™é…ç½®
2. **HR ç®¡ç†å‘˜**ï¼šå‘˜å·¥ä¿¡æ¯ç®¡ç†ã€æŠ¥è¡¨æŸ¥çœ‹å’Œå¯¼å‡ºã€å…¥èŒæµç¨‹ç®¡ç†
3. **å‘˜å·¥**ï¼šä»…æŸ¥çœ‹å’Œç¼–è¾‘ä¸ªäººä¿¡æ¯ã€è‡ªåŠ©æœåŠ¡åŠŸèƒ½

æƒé™åœ¨ä»¥ä¸‹çº§åˆ«å¼ºåˆ¶æ‰§è¡Œï¼š

- `backend/src/middleware/` ä¸­çš„ä¸­é—´ä»¶çº§åˆ«
- ä»“åº“ä¸­çš„æ•°æ®è®¿é—®çº§åˆ«
- å‰ç«¯è·¯ç”±ä¸­çš„ UI çº§åˆ«

### æ•°æ®åº“è®¾è®¡

ç³»ç»Ÿä½¿ç”¨ **Sequelize ORM**ï¼Œå…·æœ‰ä»¥ä¸‹å…³é”®æ¨¡å‹ï¼š

- `Employee`ï¼šæ ¸å¿ƒå‘˜å·¥ä¿¡æ¯ï¼Œå¸¦æœ‰åŠ å¯†å­—æ®µ
- `User`ï¼šèº«ä»½éªŒè¯å’Œæˆæƒ
- `Department`ï¼šç»„ç»‡ç»“æ„
- `OnboardingProcess`ï¼šè·Ÿè¸ªå‘˜å·¥å…¥èŒå·¥ä½œæµ
- `OperationLog`ï¼šæ•æ„Ÿæ“ä½œçš„å®¡è®¡è·Ÿè¸ª

**é‡è¦**ï¼šæ•°æ®åº“æ¨¡å¼ä¸ä½¿ç”¨è½¯åˆ é™¤ï¼ˆæ²¡æœ‰ `deleted_at` åˆ—ï¼‰ã€‚è¿™åœ¨ `backend/src/config/database.js` ä¸­é…ç½®ï¼Œè®¾ç½®ä¸º `paranoid: false`ã€‚

### ä»“åº“æ¨¡å¼

é€šè¿‡ä»“åº“ï¼ˆ`backend/src/repositories/`ï¼‰æŠ½è±¡æ•°æ®è®¿é—®ï¼š

- ä¸ºæ•°æ®æ“ä½œæä¾›ä¸€è‡´çš„æ¥å£
- è‡ªåŠ¨å¤„ç†åŠ å¯†/è§£å¯†
- å®ç°åŸºäºæƒé™çš„æ•°æ®è¿‡æ»¤
- é›†ä¸­æŸ¥è¯¢ä¼˜åŒ–

### å…¥èŒè‡ªåŠ¨åŒ–æµç¨‹

1. **HR é¢„æ³¨å†Œ**ï¼šHR ä½¿ç”¨æœ€å°‘ä¿¡æ¯ï¼ˆå§“åã€å·¥å·ã€å…¥èŒæ—¥æœŸã€éƒ¨é—¨ï¼‰åˆ›å»ºåŸºæœ¬å‘˜å·¥è®°å½•
2. **å®šæ—¶ä»»åŠ¡**ï¼šåœ¨å…¥èŒæ—¥æœŸï¼Œç³»ç»Ÿè‡ªåŠ¨ï¼š
   - ç”Ÿæˆå”¯ä¸€è¡¨å•ä»¤ç‰Œ
   - åˆ›å»ºå…¥èŒæµç¨‹è®°å½•
   - é€šè¿‡é’‰é’‰ï¼ˆä¸»è¦ï¼‰æˆ–çŸ­ä¿¡ï¼ˆå¤‡ç”¨ï¼‰å‘é€é€šçŸ¥
3. **å‘˜å·¥è‡ªåŠ©æœåŠ¡**ï¼šå‘˜å·¥é€šè¿‡ä»¤ç‰Œé“¾æ¥è®¿é—®è¡¨å•ä»¥å®Œæˆä¸ªäººä¿¡æ¯
4. **æ•°æ®åˆå¹¶**ï¼šæäº¤çš„æ•°æ®ä¸ HR é¢„æ³¨å†Œæ•°æ®åˆå¹¶ï¼ŒçŠ¶æ€æ›´æ–°ä¸º"å·²å®Œæˆ"
5. **HR å¤‡ç”¨**ï¼šå¦‚æœå‘˜å·¥åœ¨æ—¶é—´èŒƒå›´å†…æœªå®Œæˆï¼ŒHR å¯ä»¥æ‰‹åŠ¨å®Œæˆä¿¡æ¯

## ğŸš¨ é”™è¯¯å¤„ç†

### å¼‚å¸¸æœ€ä½³å®è·µ

**åç«¯é”™è¯¯å¤„ç†ï¼š**

```javascript
// åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ç±»
class ApplicationError extends Error {
  constructor(message, statusCode = 500) {
    super(message);
    this.name = this.constructor.name;
    this.statusCode = statusCode;
    Error.captureStackTrace(this, this.constructor);
  }
}

class ValidationError extends ApplicationError {
  constructor(message, details = {}) {
    super(message, 400);
    this.details = details;
  }
}

class NotFoundError extends ApplicationError {
  constructor(resource, id) {
    super(`${resource} with id ${id} not found`, 404);
    this.resource = resource;
    this.id = id;
  }
}

class EncryptionError extends ApplicationError {
  constructor(message) {
    super(message, 500);
  }
}

// åœ¨è·¯ç”±/æ§åˆ¶å™¨ä¸­ä½¿ç”¨ç‰¹å®šé”™è¯¯å¤„ç†
app.use((err, req, res, next) => {
  // è®°å½•é”™è¯¯
  logger.error('Error occurred:', {
    error: err.message,
    stack: err.stack,
    path: req.path,
    method: req.method
  });

  // å¤„ç†ç‰¹å®šé”™è¯¯ç±»å‹
  if (err instanceof ValidationError) {
    return res.status(err.statusCode).json({
      error: 'Validation Error',
      message: err.message,
      details: err.details
    });
  }

  if (err instanceof NotFoundError) {
    return res.status(err.statusCode).json({
      error: 'Not Found',
      message: err.message
    });
  }

  // é»˜è®¤é”™è¯¯å“åº”
  res.status(err.statusCode || 500).json({
    error: 'Internal Server Error',
    message: process.env.NODE_ENV === 'development' ? err.message : 'Something went wrong'
  });
});
```

**å¼‚æ­¥é”™è¯¯å¤„ç†åŒ…è£…å™¨ï¼š**

```javascript
/**
 * å¼‚æ­¥è·¯ç”±å¤„ç†å™¨çš„åŒ…è£…å™¨ä»¥æ•è·é”™è¯¯
 */
const asyncHandler = (fn) => (req, res, next) => {
  Promise.resolve(fn(req, res, next)).catch(next);
};

// ä½¿ç”¨
router.post('/employees', asyncHandler(async (req, res) => {
  const employee = await employeeService.createEmployee(req.body);
  res.status(201).json({ success: true, data: employee });
}));
```

### æ—¥å¿—ç­–ç•¥

```javascript
const winston = require('winston');

// é…ç½®ç»“æ„åŒ–æ—¥å¿—
const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  defaultMeta: { service: 'hr-system' },
  transports: [
    new winston.transports.File({ filename: 'logs/error.log', level: 'error' }),
    new winston.transports.File({ filename: 'logs/combined.log' })
  ]
});

// åœ¨å¼€å‘ä¸­æ·»åŠ æ§åˆ¶å°ä¼ è¾“
if (process.env.NODE_ENV !== 'production') {
  logger.add(new winston.transports.Console({
    format: winston.format.simple()
  }));
}

// ä½¿ç”¨
logger.info('Employee created', { employeeId: employee.id, createdBy: req.user.id });
logger.error('Failed to encrypt data', { error: err.message, field: 'idCard' });
```

## ç¯å¢ƒé…ç½®

å°† `.env.example` å¤åˆ¶åˆ° `.env` å¹¶é…ç½®ï¼š

**å…³é”®è®¾ç½®ï¼š**

- `DB_*`ï¼šæ•°æ®åº“è¿æ¥å‚æ•°
- `JWT_SECRET`ï¼šç”Ÿäº§ç¯å¢ƒè‡³å°‘ 32 ä¸ªå­—ç¬¦
- `ENCRYPTION_KEY`ï¼šç”¨äºæ•æ„Ÿæ•°æ®çš„ AES-256 åŠ å¯†
- `DINGTALK_*`ï¼šé’‰é’‰ API å‡­æ®ç”¨äºé›†æˆ
- `PORT`ï¼šåç«¯æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤ 3001ï¼‰
- `FRONTEND_URL`ï¼šç”¨äº CORS é…ç½®çš„å‰ç«¯ URL

## é’‰é’‰é›†æˆ

ç³»ç»Ÿä¸é’‰é’‰é›†æˆä»¥å®ç°ï¼š

- OAuth èº«ä»½éªŒè¯å’Œç”¨æˆ·ç™»å½•
- é€šè¿‡ç”µè¯å·ç è‡ªåŠ¨ç»‘å®šå‘˜å·¥è´¦æˆ·
- å…¥èŒæµç¨‹çš„å·¥ä½œé€šçŸ¥
- ç»„ç»‡ç»“æ„åŒæ­¥

**å…³é”® API ç«¯ç‚¹**ï¼ˆå®æ–½æ—¶ï¼‰ï¼š

- `POST /api/auth/dingtalk/callback`ï¼šOAuth å›è°ƒå¤„ç†å™¨
- `POST /api/dingtalk/notify`ï¼šå‘é€å·¥ä½œé€šçŸ¥
- `GET /api/dingtalk/departments`ï¼šåŒæ­¥éƒ¨é—¨ç»“æ„

## ğŸ—„ï¸ æ•°æ®åº“å‘½åæ ‡å‡†

### å®ä½“ç‰¹å®šä¸»é”®

æ‰€æœ‰æ•°æ®åº“è¡¨ä½¿ç”¨å®ä½“ç‰¹å®šä¸»é”®ä»¥ä¿æŒæ¸…æ™°å’Œä¸€è‡´ï¼š

```sql
-- âœ… æ ‡å‡†åŒ–ï¼šå®ä½“ç‰¹å®šä¸»é”®
employees.employee_id VARCHAR(36) PRIMARY KEY
users.user_id VARCHAR(36) PRIMARY KEY
departments.department_id VARCHAR(36) PRIMARY KEY
onboarding_processes.process_id VARCHAR(36) PRIMARY KEY
operation_logs.log_id VARCHAR(36) PRIMARY KEY
```

### å­—æ®µå‘½åçº¦å®š

```sql
-- ä¸»é”®ï¼š{entity}_id
employee_id, user_id, department_id

-- å¤–é”®ï¼š{referenced_entity}_id
employee_id REFERENCES employees(employee_id)
department_id REFERENCES departments(department_id)

-- æ—¶é—´æˆ³ï¼š{action}_at
created_at, updated_at, hired_at, completed_at

-- å¸ƒå°”å€¼ï¼šis_{state}
is_active, is_complete, data_complete

-- åŠ å¯†å­—æ®µï¼š{field}_encrypted
name_encrypted, phone_encrypted, id_card_encrypted

-- ç”¨äºæœç´¢çš„å“ˆå¸Œå­—æ®µï¼š{field}_hash
name_hash, phone_hash

-- è®¡æ•°ï¼š{entity}_count
employee_count, reminder_count
```

### ä»“åº“æ¨¡å¼

ä»“åº“æ¨¡å¼æä¾›ä¸€è‡´çš„æ•°æ®è®¿é—®ï¼š

```javascript
class BaseRepository {
  constructor(model) {
    this.model = model;
  }

  async findById(id) {
    return await this.model.findByPk(id);
  }

  async findAll(options = {}) {
    return await this.model.findAll(options);
  }

  async create(data) {
    return await this.model.create(data);
  }

  async update(id, data) {
    const record = await this.findById(id);
    if (!record) throw new NotFoundError(this.model.name, id);
    return await record.update(data);
  }

  async delete(id) {
    const record = await this.findById(id);
    if (!record) throw new NotFoundError(this.model.name, id);
    return await record.destroy();
  }
}

// ä½¿ç”¨
class EmployeeRepository extends BaseRepository {
  constructor() {
    super(Employee);
  }

  async findByEmployeeNumber(employeeNumber) {
    return await this.model.findOne({ where: { employee_number: employeeNumber } });
  }

  async findByDepartment(departmentId) {
    return await this.model.findAll({ where: { department_id: departmentId } });
  }
}
```

### æ¨¡å‹-æ•°æ®åº“å¯¹é½

Sequelize æ¨¡å‹ç²¾ç¡®é•œåƒæ•°æ®åº“å­—æ®µï¼š

```javascript
const Employee = sequelize.define('Employee', {
  employee_id: {
    type: DataTypes.STRING(36),
    primaryKey: true,
    defaultValue: DataTypes.UUIDV4
  },
  employee_number: {
    type: DataTypes.STRING(20),
    unique: true,
    allowNull: false
  },
  name_encrypted: {
    type: DataTypes.TEXT,
    allowNull: false,
    comment: 'Encrypted employee name'
  },
  name_hash: {
    type: DataTypes.STRING(64),
    comment: 'Hash for searching encrypted names'
  },
  department_id: {
    type: DataTypes.STRING(36),
    allowNull: false,
    references: {
      model: 'departments',
      key: 'department_id'
    }
  },
  created_at: {
    type: DataTypes.DATE,
    allowNull: false,
    defaultValue: DataTypes.NOW
  }
}, {
  tableName: 'employees',
  underscored: true,  // åˆ—åä½¿ç”¨ snake_case
  timestamps: true
});
```

## æ•°æ®åº“æ¨¡å¼è¯´æ˜

- **å­—ç¬¦é›†**ï¼šæ‰€æœ‰è¡¨ä½¿ç”¨ `utf8mb4` å’Œ `utf8mb4_unicode_ci` æ’åºè§„åˆ™ä»¥æ”¯æŒå®Œæ•´çš„ Unicodeï¼ˆåŒ…æ‹¬è¡¨æƒ…ç¬¦å·ï¼‰
- **æ—¶é—´æˆ³**ï¼šSequelize è‡ªåŠ¨ç®¡ç† `created_at` å’Œ `updated_at` å­—æ®µ
- **å¤–é”®**ï¼šåœ¨ Sequelize æ¨¡å‹ä¸­å®šä¹‰ï¼Œå…·æœ‰é€‚å½“çš„çº§è”è§„åˆ™
- **ç´¢å¼•**ï¼šå¯¹åŠ å¯†å­—æ®µå“ˆå¸Œå’Œå¤–é”®è‡³å…³é‡è¦
- **æ— è½¯åˆ é™¤**ï¼šæ•°æ®åº“é…ç½®ä¸­è®¾ç½® `paranoid: false` - è®°å½•è¢«æ°¸ä¹…åˆ é™¤

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ—¶

1. **åŠ å¯†å­—æ®µ**ï¼šå¦‚æœæ·»åŠ æ•æ„Ÿæ•°æ®å­—æ®µï¼Œä½¿ç”¨ `backend/src/utils/encryption.js` ä¸­çš„åŠ å¯†å·¥å…·
2. **API è·¯ç”±**ï¼šéµå¾ª RESTful çº¦å®šï¼Œåœ¨ `backend/src/routes/` ä¸­å®ç°ï¼Œå¸¦æœ‰ç›¸åº”çš„æ§åˆ¶å™¨
3. **æƒé™**ï¼šå§‹ç»ˆåœ¨å—ä¿æŠ¤è·¯ç”±çš„ä¸­é—´ä»¶ä¸­æ·»åŠ æƒé™æ£€æŸ¥
4. **å®¡è®¡æ—¥å¿—**ï¼šå°†æ•æ„Ÿæ“ä½œï¼ˆåˆ›å»º/æ›´æ–°/åˆ é™¤å‘˜å·¥æ•°æ®ï¼‰è®°å½•åˆ° `operation_logs` è¡¨
5. **å‰ç«¯ API è°ƒç”¨**ï¼šä½¿ç”¨é›†ä¸­å¼ axios å®ä¾‹ï¼ˆä½äº `frontend/src/api/`ï¼‰

### æ•°æ®åº“è¿ç§»

ä¿®æ”¹æ•°æ®åº“æ¨¡å¼æ—¶ï¼š

1. åœ¨ `backend/src/db/migrations/` ä¸­åˆ›å»ºæ–°çš„è¿ç§»æ–‡ä»¶
2. ä½¿ç”¨ Sequelize è¿ç§»è¯­æ³•
3. å§‹ç»ˆæä¾› `up` å’Œ `down` æ–¹æ³•
4. åœ¨æäº¤ä¹‹å‰åœ¨å¹²å‡€çš„æ•°æ®åº“ä¸Šæµ‹è¯•è¿ç§»

## æ–‡ä»¶ä¸Šä¼ å¤„ç†

ç³»ç»Ÿæ”¯æŒæ–‡æ¡£ä¸Šä¼ ï¼ˆèº«ä»½è¯ã€åˆåŒç­‰ï¼‰ï¼š

- æœ€å¤§æ–‡ä»¶å¤§å°ï¼š10MBï¼ˆå¯é€šè¿‡ `MAX_FILE_SIZE` é…ç½®ï¼‰
- å…è®¸çš„ç±»å‹ï¼šjpgã€jpegã€pngã€pdfã€docã€docxã€xlsã€xlsx
- å­˜å‚¨ï¼š`uploads/` ç›®å½•ä¸‹çš„æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
- æœªæ¥ï¼šå°†è¿ç§»åˆ°å…¼å®¹ S3 çš„å¯¹è±¡å­˜å‚¨

## ğŸ“ æ–‡æ¡£æ ‡å‡†

### ä»£ç æ–‡æ¡£

- æ¯ä¸ª**æ¨¡å—**åº”æœ‰ JSDoc æ³¨é‡Šè§£é‡Šå…¶ç›®çš„
- æ‰€æœ‰**å…¬å…±å‡½æ•°**å¿…é¡»æœ‰å®Œæ•´çš„ JSDoc/TSDoc æ³¨é‡Š
- **å¤æ‚é€»è¾‘**åº”æœ‰å†…è”æ³¨é‡Šï¼Œå¹¶æœ‰æ¸…æ™°çš„æ¨ç†
- ä¿æŒ **README.md** æ›´æ–°ï¼ŒåŒ…å«è®¾ç½®è¯´æ˜å’Œç¤ºä¾‹
- ä½¿ç”¨ JSDoc æˆ– OpenAPI/Swagger ç»´æŠ¤ **API æ–‡æ¡£**

### ä½•æ—¶æ›´æ–°æ–‡æ¡£

åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ›´æ–°æ–‡æ¡£ï¼š

- æ·»åŠ æ–°åŠŸèƒ½æˆ–ç«¯ç‚¹
- æ›´æ”¹ç¯å¢ƒå˜é‡æˆ–é…ç½®
- ä¿®æ”¹æ•°æ®åº“æ¨¡å¼
- æ›´æ–°éƒ¨ç½²ç¨‹åº
- æ·»åŠ æ–°çš„ä¾èµ–é¡¹æˆ–å·¥å…·
- å‘ç°å¹¶ä¿®å¤é”™è¯¯ï¼ˆæ·»åŠ åˆ° CHANGELOGï¼‰

### è¦ç»´æŠ¤çš„æ–‡æ¡£æ–‡ä»¶

- `CLAUDE.md` - æœ¬æ–‡ä»¶ï¼ŒClaude Code çš„æ¨¡å¼å’ŒæŒ‡å¯¼
- `README.md` - é¡¹ç›®æ¦‚è¿°å’Œå¿«é€Ÿå¼€å§‹
- `requirement.md` - è¯¦ç»†çš„åŠŸèƒ½éœ€æ±‚
- `docs/architecture.md` - ç³»ç»Ÿæ¶æ„å’Œè®¾è®¡
- `docs/api.md` - API ç«¯ç‚¹æ–‡æ¡£
- `docs/database.md` - æ•°æ®åº“æ¨¡å¼å’Œè®¾è®¡
- `docs/backend.md` - åç«¯å¼€å‘æŒ‡å—
- `docs/frontend.md` - å‰ç«¯å¼€å‘æŒ‡å—

## éƒ¨ç½²

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. ç¡®ä¿ `.env` æ–‡ä»¶å·²é…ç½®
2. ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ `npm run docker:up`
3. æœåŠ¡å°†å¯ç”¨ï¼š
   - å‰ç«¯ï¼šhttp://localhost:3000
   - åç«¯ APIï¼šhttp://localhost:3001
   - MySQLï¼šlocalhost:3306
   - Redisï¼šlocalhost:6379

### æ‰‹åŠ¨éƒ¨ç½²

1. å®‰è£…ä¾èµ–é¡¹ï¼š`npm run install:all`
2. é…ç½®æ•°æ®åº“å’Œ Redis
3. è¿è¡Œè¿ç§»ï¼š`npm run db:migrate`
4. æ„å»ºå‰ç«¯ï¼š`cd frontend && npm run build`
5. å¯åŠ¨åç«¯ï¼š`cd backend && npm start`
6. ä½¿ç”¨ Nginx æˆ–ç±»ä¼¼å·¥å…·æä¾›å‰ç«¯æ„å»º

## æ•…éšœæ’é™¤

**æ•°æ®åº“è¿æ¥é—®é¢˜ï¼š**

- éªŒè¯ MySQL æ­£åœ¨è¿è¡Œä¸” `.env` ä¸­çš„å‡­æ®æ­£ç¡®
- æ£€æŸ¥ `DB_HOST` æ˜¯å¦æ­£ç¡®ï¼ˆæœ¬åœ°ä¸º 'localhost'ï¼ŒDocker ä¸º 'mysql'ï¼‰
- ç¡®ä¿ MySQL ç”¨æˆ·å…·æœ‰é€‚å½“çš„æƒé™

**å‰ç«¯/åç«¯è¿æ¥é—®é¢˜ï¼š**

- éªŒè¯åç«¯ `.env` ä¸­çš„ `FRONTEND_URL` ä¸å‰ç«¯æ¥æºåŒ¹é…
- æ£€æŸ¥ `backend/src/app.js` ä¸­çš„ CORS é…ç½®
- ç¡®ä¿åç«¯åœ¨é¢„æœŸç«¯å£ä¸Šè¿è¡Œ

**é’‰é’‰é›†æˆé—®é¢˜ï¼š**

- éªŒè¯é’‰é’‰åº”ç”¨å‡­æ®æ­£ç¡®
- æ£€æŸ¥é’‰é’‰åº”ç”¨å…·æœ‰æ‰€éœ€æƒé™
- ç¡®ä¿å›è°ƒ URL åœ¨é’‰é’‰ç®¡ç†é¢æ¿ä¸­åˆ—å…¥ç™½åå•

## ğŸ”„ Git å·¥ä½œæµ

### åˆ†æ”¯ç­–ç•¥

- `main` - ç”Ÿäº§å°±ç»ªä»£ç ï¼ˆå—ä¿æŠ¤ï¼‰
- `develop` - åŠŸèƒ½é›†æˆåˆ†æ”¯ï¼ˆå¦‚éœ€è¦ï¼‰
- `feature/*` - æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œ`feature/onboarding-automation`ï¼‰
- `fix/*` - Bug ä¿®å¤ï¼ˆä¾‹å¦‚ï¼Œ`fix/encryption-error`ï¼‰
- `docs/*` - æ–‡æ¡£æ›´æ–°ï¼ˆä¾‹å¦‚ï¼Œ`docs/api-endpoints`ï¼‰
- `refactor/*` - ä»£ç é‡æ„ï¼ˆä¾‹å¦‚ï¼Œ`refactor/employee-service`ï¼‰
- `test/*` - æµ‹è¯•æ·»åŠ æˆ–ä¿®å¤ï¼ˆä¾‹å¦‚ï¼Œ`test/employee-encryption`ï¼‰

### æäº¤æ¶ˆæ¯æ ¼å¼

**æ°¸è¿œä¸è¦åœ¨æäº¤æ¶ˆæ¯ä¸­åŒ…å«"claude code"æˆ–"ç”± claude code ç¼–å†™"**

æ ¼å¼ï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

ç±»å‹ï¼š`feat`ã€`fix`ã€`docs`ã€`style`ã€`refactor`ã€`test`ã€`chore`

ç¤ºä¾‹ï¼š

```
feat(auth): add DingTalk OAuth authentication

- Implement OAuth callback handler
- Add user profile synchronization
- Store access tokens securely

Closes #123
```

```
fix(encryption): resolve decryption error for phone numbers

The phone number decryption was failing due to incorrect
encoding. Updated to use base64 encoding consistently.

Fixes #456
```

```
refactor(employee): extract encryption logic to utility

Moved encryption/decryption logic from EmployeeService to
a dedicated EncryptionUtil class for better reusability.
```

## ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ

### å®‰å…¨æŒ‡å—

- **æ°¸è¿œä¸è¦æäº¤ç§˜å¯†** - å¯¹æ‰€æœ‰æ•æ„Ÿé…ç½®ä½¿ç”¨ç¯å¢ƒå˜é‡
- **éªŒè¯æ‰€æœ‰ç”¨æˆ·è¾“å…¥** - ä½¿ç”¨ express-validator æˆ–ç±»ä¼¼å·¥å…·
- **ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢** - Sequelize è‡ªåŠ¨å¤„ç†æ­¤é—®é¢˜
- **å®æ–½é€Ÿç‡é™åˆ¶** - å·²åœ¨ `backend/src/app.js` ä¸­é…ç½®
- **ä¿æŒä¾èµ–é¡¹æ›´æ–°** - å®šæœŸè¿è¡Œ `npm audit` å’Œ `npm update`
- **åœ¨ç”Ÿäº§ä¸­å¯¹æ‰€æœ‰å¤–éƒ¨é€šä¿¡ä½¿ç”¨ HTTPS**
- **å®æ–½é€‚å½“çš„èº«ä»½éªŒè¯** - JWT ä»¤ç‰Œå…·æœ‰åˆç†çš„è¿‡æœŸæ—¶é—´
- **å“ˆå¸Œå¯†ç ** - ä½¿ç”¨å…·æœ‰é€‚å½“ç›è½®æ¬¡çš„ bcrypt

### æœ¬é¡¹ç›®çš„å…³é”®å®‰å…¨è§„åˆ™

- æ‰€æœ‰æ•æ„Ÿå‘˜å·¥æ•°æ®ï¼ˆèº«ä»½è¯å·ã€ç”µè¯å·ç ã€é“¶è¡Œè´¦æˆ·ï¼‰**å¿…é¡»åœ¨å­˜å‚¨å‰åŠ å¯†**
- **æ°¸è¿œä¸è¦è®°å½•è§£å¯†çš„æ•æ„Ÿæ•°æ®** - ä»…è®°å½•åŠ å¯†å€¼æˆ–å“ˆå¸Œ
- åœ¨è¿”å›è§£å¯†æ•°æ®ä¹‹å‰å®æ–½**é€‚å½“çš„æƒé™æ£€æŸ¥**
- ä½¿ç”¨**å‚æ•°åŒ–æŸ¥è¯¢**ï¼ˆSequelize å¤„ç†æ­¤é—®é¢˜ï¼‰ä»¥é˜²æ­¢ SQL æ³¨å…¥
- **JWT ä»¤ç‰Œåœ¨ 24 å°æ—¶åè¿‡æœŸ**ï¼ˆå¯é€šè¿‡ `JWT_EXPIRES_IN` é…ç½®ï¼‰
- **åœ¨æ‰€æœ‰ API è·¯ç”±ä¸Šå¼ºåˆ¶æ‰§è¡Œé€Ÿç‡é™åˆ¶**ï¼ˆæ¯ 15 åˆ†é’Ÿ 100 ä¸ªè¯·æ±‚ï¼‰
- **åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ HTTPS**ï¼ˆåœ¨ Nginx ä¸­é…ç½®ï¼‰
- **å®¡è®¡æ‰€æœ‰æ•æ„Ÿæ“ä½œ** - è®°å½•åˆ° `operation_logs` è¡¨

### å®‰å…¨å®æ–½ç¤ºä¾‹

```javascript
const bcrypt = require('bcryptjs');
const crypto = require('crypto');

/**
 * ä½¿ç”¨ bcrypt å“ˆå¸Œå¯†ç 
 */
async function hashPassword(password) {
  const saltRounds = 10;
  return await bcrypt.hash(password, saltRounds);
}

/**
 * éªŒè¯å¯†ç ä¸å“ˆå¸Œ
 */
async function verifyPassword(plainPassword, hashedPassword) {
  return await bcrypt.compare(plainPassword, hashedPassword);
}

/**
 * ç”ŸæˆåŠ å¯†å®‰å…¨ä»¤ç‰Œ
 */
function generateSecureToken(length = 32) {
  return crypto.randomBytes(length).toString('hex');
}
```

## âš ï¸ é‡è¦æç¤º

- **æ°¸è¿œä¸è¦å‡è®¾æˆ–çŒœæµ‹** - æœ‰ç–‘é—®æ—¶ï¼Œè¯·å¯»æ±‚æ¾„æ¸…
- **å§‹ç»ˆéªŒè¯æ–‡ä»¶è·¯å¾„å’Œæ¨¡å—åç§°**åå†ä½¿ç”¨
- **åœ¨æ·»åŠ æ–°æ¨¡å¼æˆ–ä¾èµ–é¡¹æ—¶ä¿æŒ CLAUDE.md æ›´æ–°**
- **è®°å½•ä½ çš„å†³ç­–** - æœªæ¥çš„å¼€å‘äººå‘˜ï¼ˆåŒ…æ‹¬ä½ è‡ªå·±ï¼‰ä¼šæ„Ÿè°¢ä½ 
- **éµå¾ªå•ä¸€èŒè´£åŸåˆ™** - æ¯ä¸ªå‡½æ•°/ç±»åº”è¯¥åšå¥½ä¸€ä»¶äº‹
- **ç¼–å†™è‡ªæ–‡æ¡£åŒ–ä»£ç ** - ä½¿ç”¨æ¸…æ™°çš„åç§°å’Œæœ€å°‘çš„æ³¨é‡Š
- **å¿«é€Ÿå¤±è´¥** - å°½æ—©æ£€æŸ¥é”™è¯¯å¹¶æŠ›å‡ºæœ‰æ„ä¹‰çš„å¼‚å¸¸
- **ä¿æŒå‡½æ•°åœ¨ 50 è¡Œä»¥ä¸‹** - å°†å¤æ‚é€»è¾‘åˆ†è§£ä¸ºæ›´å°ã€å¯æµ‹è¯•çš„å•å…ƒ
- **ä¿æŒæ–‡ä»¶åœ¨ 500 è¡Œä»¥ä¸‹** - å°†å¤§æ–‡ä»¶æ‹†åˆ†ä¸ºä¸“æ³¨çš„æ¨¡å—
- **éµå¾ª KISS å’Œ YAGNI** - ç®€å•çš„è§£å†³æ–¹æ¡ˆæ›´å¥½ï¼Œåªæ„å»ºç°åœ¨éœ€è¦çš„ä¸œè¥¿

## ğŸ“š æœ‰ç”¨èµ„æº

### åŸºæœ¬å·¥å…·å’Œåº“

- **Node.js æ–‡æ¡£**ï¼šhttps://nodejs.org/docs/
- **Express.js æŒ‡å—**ï¼šhttps://expressjs.com/
- **Sequelize ORM**ï¼šhttps://sequelize.org/docs/
- **React æ–‡æ¡£**ï¼šhttps://react.dev/
- **Ant Design ç»„ä»¶**ï¼šhttps://ant.design/components/
- **Jest æµ‹è¯•**ï¼šhttps://jestjs.io/docs/
- **React Testing Library**ï¼šhttps://testing-library.com/react

### æœ€ä½³å®è·µ

- **Node.js æœ€ä½³å®è·µ**ï¼šhttps://github.com/goldbergyoni/nodebestpractices
- **JavaScript é£æ ¼æŒ‡å—**ï¼ˆAirbnbï¼‰ï¼šhttps://github.com/airbnb/javascript
- **TypeScript æ‰‹å†Œ**ï¼šhttps://www.typescriptlang.org/docs/handbook/
- **React æ¨¡å¼**ï¼šhttps://reactpatterns.com/

---

_æœ¬æ–‡æ¡£æ˜¯ä¸€ä¸ªæ´»çš„æŒ‡å—ã€‚éšç€é¡¹ç›®çš„å‘å±•å’Œæ–°æ¨¡å¼çš„å‡ºç°è€Œæ›´æ–°å®ƒã€‚_
